{% extends 'base.html' %}
{% load static %}
{% load markdown_extras %}

{% block title %}{{ post.title|capfirst }}{% endblock title %}

{% block content %}
<section>
    <h1>{{ post.title|capfirst }}</h1>
    <p class="post-description">{{ post.description }}</p>
    <p class="post-date">Published: {{ post.published_date|date }}</p>
    {{ post.content| markdown | safe }}
</section>
<aside>
    <div class="like-section">
        <form class="like-form" action="{% url 'blog:detail' post.slug %}" method="post"
            hx-post="{% url 'blog:detail' post.slug %}" hx-trigger="click once" hx-target=".like-count"
            hx-swap="innerHTML">
            {% csrf_token %}
            <input type="hidden" name="like" value="1">
            <button class="like-button" type="submit">👍</button>
        </form>
        <span class="like-count">Likes: {{ post.likes }}</span>
    </div>
</aside>
{% endblock content %}
